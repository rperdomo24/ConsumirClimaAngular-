{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ClimaComponent = class ClimaComponent {\n  constructor(climaService, ipservices) {\n    this.climaService = climaService;\n    this.ipservices = ipservices;\n  }\n\n  ngOnInit() {\n    this.obtenerClimaActual(13.4833, -88.1833);\n  }\n\n  permitirGeolocalizacion() {\n    var lat = 0;\n    var long = 0;\n    navigator.geolocation.getCurrentPosition(function (data) {\n      lat = data.coords.latitude;\n      long = data.coords.longitude;\n      this.obtenerClimaActual(lat, long);\n      alert('Localizacion accedida, ahora daremos una mejor pronostico a su clima');\n    }, function () {\n      lat = 13.4833;\n      long = -88.1833;\n      this.obtenerClimaActual(lat, long);\n      alert('Sin permisos para obtener su localizacion, mostraremos el clima de San Miguel/El Salvador');\n    }, {\n      timeout: 10000\n    });\n  }\n\n  obtenerClimaActual(latitud, longitude) {\n    this.climaService.ObtenerClimaporIp(latitud + \",\" + longitude).subscribe(data => {\n      // this.router.navigate(['/']);\n      this.datosClimaActual = data;\n      console.log(data);\n      alert('data obtenida');\n    });\n  }\n\n};\nClimaComponent = __decorate([Component({\n  selector: 'app-clima',\n  templateUrl: './clima.component.html',\n  styleUrls: ['./clima.component.css']\n})], ClimaComponent);\nexport { ClimaComponent };","map":null,"metadata":{},"sourceType":"module"}